!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=506)}({506:function(e,t,a){e.exports=a(507)},507:function(e,t,a){"use strict";function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n,i={init:function(){n=$("#kt_apps_user_list_datatable").KTDatatable({data:{type:"remote",source:{read:{url:current_url+"/list",method:"GET",params:s({},crsftoken,$('meta[name="X-CSRF-TOKEN"]').attr("content"))}},pageSize:10,serverPaging:!0,serverFiltering:!0,serverSorting:!0},translate:{records:{processing:_LANG_.loading_wait,noRecords:_LANG_.no_record_found},toolbar:{pagination:{items:{default:{first:_LANG_.first,prev:_LANG_.previous,next:_LANG_.next,last:_LANG_.last,more:_LANG_.more_pages,input:_LANG_.page_number,select:_LANG_.select_page_size,all:_LANG_.all},info:_LANG_.showing+" {{start}} - {{end}} of {{total}}"}}}},layout:{scroll:!1,footer:!1},sortable:!0,pagination:!0,search:{input:$("#kt_subheader_search_form"),delay:400},rows:{beforeTemplate:function(e,t,a){"0"==t.active&&e.addClass("notactive")},callback:function(e,t,a){}},columns:[{field:"uuid",title:"#",sortable:!1,width:20,selector:{class:"checkbox-solid"},textAlign:"center"},{field:"username",title:_LANG_.prenom_nom_client,width:200,template:function(e,t){for(var a=4+t;a>12;)a-=3;return KTUtil.getRandomInt(0,5),'<div class="d-flex align-items-center"><div class="symbol symbol-40 symbol-light-success flex-shrink-0">                        <span class="symbol-label font-size-h4 font-weight-bold badge--'+(t={1:{class:"success"},2:{class:"brand"},3:{class:"danger"},4:{class:"warning"},5:{class:"primary"},6:{class:"info"}})[e.group[0].group_id].class+'">                        '+e.lastname.substring(0,1)+" "+e.firstname.substring(0,1)+'</span>                        </div><div class="ml-4">                        <div class="text-dark-75 font-weight-bolder font-size-lg mb-0"><a href="'+startUrl+"/settings-advanced/users/edit/"+e.uuid+'" class="link text-dark-75">                        '+e.lastname+" "+e.firstname+'</a></div><span class="text-muted font-weight-bold text-hover-primary">'+e.fonction+"</span>                        </div></div>"}},{field:"email",title:_LANG_.email,type:"email",template:function(e){return'<div class="font-weight-bold text-muted">'+e.email+"</div>"}},{field:"phone",title:"Tel",width:"auto",autoHide:!1,template:function(e,t){for(var a=t+1;a>5;)a-=3;return null==e.phone_mobile&&(e.phone_mobile="nc"),null==e.phone&&(e.phone="nc"),'<div class="font-weight-bolder font-size-lg mb-0" >Fixe: <a class="font-weight-bold text-muted" href="tel:'+e.phone+'">'+e.phone+'</a></div>                                        <div class="font-weight-bolder font-size-lg mb-0"> Mobile: <a class="font-weight-bold text-muted" href="tel:'+e.phone_mobile+'">'+e.phone_mobile+"</a></div>"}},{field:"group_id",title:"Role",sortable:!1,width:150,template:function(e){var t="";return $(e.group).each((function(e,a){t+=a.name+", "})),"<span data-group="+e.active+' class="btn btn-bold btn-sm btn-font-sm  btn-'+{1:{class:"dark"},2:{class:"info"},3:{class:"warning"},4:{class:"info"},5:{class:"warning"},6:{class:"danger"},7:{class:"warning"}}[e.group[0].group_id].class+' mr-2 px-2">'+t+"</span>"}},{field:"active",title:_LANG_.active,sortable:!1,width:150,template:function(e){if(0==e.status||null==e.status)var t="btn-light-success";else t="btn-light-danger";if(0==e.status||null==e.status)var a=_LANG_.active;else a=_LANG_.desactive;if(0==e.status||null==e.status)var s="disabled";else s="";if(0==e.status||null==e.status)var n="explain_disabled";else n="";var i='<a href="javascript:;" data-status_message="'+n+'" data-status="'+s+'" data-id="'+e.uuid+'" class="actionActive btn btn-bold btn-sm btn-font-sm '+t+'">'+a+"</a>";return i}},{field:"created_at",title:_LANG_.date_create,type:"date",format:"MM/DD/YYYY",template:function(e){return'<div class="font-weight-bolder text-primary mb-0">'+e.date_create_format+"</div>"}},{field:"Actions",width:80,title:"Actions",sortable:!1,autoHide:!1,overflow:"visible",template:function(e){var t=[],a=!1;if($(e.group).each((function(e,s){t[e]=s.group_id,"1"==s.group_id&&(a=!0)})),1==a&&!$.checkValue(1,id_group)||"1"==e.id)return user_uuid==e.uuid?(s='<div class="dropdown">                                    <a href="javascript:;" class="btn btn-sm btn-clean btn-icon btn-icon-md" data-toggle="dropdown">                                    <i class="flaticon-more-1"></i></a>                                    <div class="dropdown-menu dropdown-menu-right">                                    <ul class="navi flex-column navi-hover py-2">',s+='<li class="navi-item">                                    <a href="#" data-controller="user" data-action="actionView" data-module="false" data-value="'+e.uuid+'" class="actioncontroller navi-link">                                    <span class="navi-icon"><i class="flaticon2-expand"></i></span>                                    <span class="navi-text">'+_LANG_.view+"</span>                                    </a></li>",s+='<li class="navi-item">                                    <a href="'+startUrl+"/settings-advanced/users/edit/"+e.uuid+'" class="navi-link">                                    <span class="navi-icon"><i class="flaticon2-contract"></i></span>                                    <span class="navi-text">'+_LANG_.edit+"</span>                                    </a></li>",s+=" </ul></div></div>",s):"";var s='<div class="dropdown">                                <a href="javascript:;" class="btn btn-sm btn-clean btn-icon btn-icon-md" data-toggle="dropdown">                                <i class="flaticon-more-1"></i></a>                                <div class="dropdown-menu dropdown-menu-right">                                <ul class="navi flex-column navi-hover py-2">';return s+='<li class="navi-item">                                <a href="#" data-controller="user" data-action="actionView" data-module="false" data-value="'+e.uuid+'" class="actioncontroller navi-link">                                <span class="navi-icon"><i class="flaticon2-expand"></i></span>                                <span class="navi-text">'+_LANG_.view+"</span>                                </a></li>",(1==a&&$.checkValue(1,id_group)||0==a)&&(s+='<li class="navi-item">                                <a href="'+startUrl+"/settings-advanced/users/edit/"+e.uuid+'" class="navi-link">                                <span class="navi-icon"><i class="flaticon2-contract"></i></span>                                <span class="navi-text">'+_LANG_.edit+"</span>                                </a></li>"),"1"!=e.id&&e.uuid!=user_uuid&&(s+=' <li class="navi-item">                                <a href="#" data-id="'+e.uuid+'" class="deleterowKtdatatable navi-link">                                <span class="navi-icon"><i class="navi-icon flaticon2-trash"></i></span>                                <span class="navi-text">'+_LANG_.delete+"</span>                                </a>                                </li>"),s+=" </ul></div></div>",s}}]}),$("#kt_form_status").on("change",(function(){n.search($(this).val().toLowerCase(),"Status")})),n.on("datatable-on-check datatable-on-uncheck datatable-on-layout-updated",(function(e){var t=n.rows(".datatable-row-active").nodes().length;$("#kt_subheader_group_selected_rows").html(t),t>0?($("#kt_subheader_search").addClass("hidden"),$("#kt_subheader_group_actions").removeClass("hidden")):($("#kt_subheader_search").removeClass("hidden"),$("#kt_subheader_group_actions").addClass("hidden"))})),$("#kt_datatable_records_fetch_modal").on("show.bs.modal",(function(e){var t=new KTDialog({type:"loader",placement:"top center",message:_LANG_.loading+"..."});t.show(),setTimeout((function(){t.hide()}),1e3);for(var a=n.rows(".datatable-row-active").nodes().find('.checkbox-single > [type="checkbox"]').map((function(e,t){return $(t).val()})),s=document.createDocumentFragment(),i=0;i<a.length;i++){var l=document.createElement("li");l.setAttribute("data-id",a[i]),l.innerHTML=_LANG_.selected_row_id+": "+a[i],s.appendChild(l)}$(e.target).find("#kt_apps_user_fetch_records_selected").append(s)})).on("hide.bs.modal",(function(e){$(e.target).find("#kt_apps_user_fetch_records_selected").empty()})),$("#kt_subheader_group_actions_status_change").on("click","[data-toggle='status-change']",(function(e){e.preventDefault();var t=$(this).find(".navi-link-text").html(),a=$(this).find(".navi-link-text").data("status"),i=n.rows(".datatable-row-active").nodes().find('.checkbox-single > [type="checkbox"]').map((function(e,t){return{uuid:$(t).val(),active:a}}));i.length>0&&swal.fire({buttonsStyling:!1,html:_LANG_.are_you_sure_update+" "+i.length+" "+_LANG_.selected_records_status_to+" "+t+" ?",type:"info",confirmButtonText:_LANG_.yes_update+"!",confirmButtonClass:"btn btn-sm btn-bold btn-success",showCancelButton:!0,cancelButtonText:_LANG_.no_cancel,cancelButtonClass:"btn btn-sm btn-bold btn-dark"}).then((function(e){var t;e.value?$.ajax({type:"POST",url:current_url+"/ajaxUpdate",data:(t={},s(t,crsftoken,$('meta[name="X-CSRF-TOKEN"]').attr("content")),s(t,"value",i.get()),t),dataType:"json",success:function(e,t,a){200==a.status&&($.notify({title:e.success.message?_LANG_.updated+"!":_LANG_.warning+"!",message:e.success.message?e.success.message:e.error.message},{type:e.success.message?"success":"warning"}),$("#kt_apps_user_list_datatable").KTDatatable().reload())}}):$.notify({title:_LANG_.cancelled,message:_LANG_.your_seleted_records_statuses_have_not_been_updated},{type:"primary"})}))})),$("#kt_subheader_group_actions_delete_all").on("click",(function(){var e=n.rows(".datatable-row-active").nodes().find('.checkbox-single > [type="checkbox"]').map((function(e,t){return $(t).val()}));e.length>0&&swal.fire({buttonsStyling:!1,text:_LANG_.are_you_sure_delete+" "+e.length+" "+_LANG_.selected_records+" ?",type:"error",confirmButtonText:_LANG_.yes_delete+" !",confirmButtonClass:"btn btn-sm btn-bold btn-danger",showCancelButton:!0,cancelButtonText:_LANG_.no_cancel,cancelButtonClass:"btn btn-sm btn-bold btn-dark"}).then((function(t){if(t.value){var a,n=e.get();$.ajax({type:"DELETE",url:current_url+"/delete",data:(a={},s(a,crsftoken,$('meta[name="X-CSRF-TOKEN"]').attr("content")),s(a,"uuid",n),a),dataType:"json",success:function(e,t,a){if(200==a.status){var s=$(".kt_subheader_total").text();$(".kt_subheader_total").html(s-n.length),$.notify({title:e.success.message?_LANG_.deleted+"!":_LANG_.warning+"!",message:e.success.message?e.success.message:e.error.message},{type:e.success.message?"success":"warning"}),$("#kt_apps_user_list_datatable").KTDatatable().reload()}}})}else $.notify({title:_LANG_.deleted,message:_LANG_.your_selected_records_have_not_been_deleted},{type:"info"})}))})),n.on("datatable-on-layout-updated",(function(){}))}};KTUtil.ready((function(){i.init(),$(document).on("click",".actionActive",(function(e){var t;e.preventDefault();var a=$(this).attr("data-status"),n=$(this).attr("data-status_message"),i=$(this).attr("data-id");$.ajax({type:"POST",url:current_url+"/ajaxUpdate",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:(t={},s(t,crsftoken,$('meta[name="X-CSRF-TOKEN"]').attr("content")),s(t,"value",[{uuid:i,status:a,status_message:n}]),t),dataType:"json",success:function(e,t,a){200==a.status&&($.notify({title:e.success.message?_LANG_.updated+"!":_LANG_.warning+"!",message:e.success.message?e.success.message:e.error.message},{type:e.success.message?"success":"warning"}),$("#kt_apps_user_list_datatable").KTDatatable().reload())}})})),$(document).on("click",".actioncontroller",(function(e){e.preventDefault();var t=$(this).data("value");$.ajax({type:"GET",url:current_url+"/show/"+t,data:s({},crsftoken,$('meta[name="X-CSRF-TOKEN"]').attr("content")),dataType:"json",success:function(e,t,a){200==a.status&&0==e.error&&($("#kt_modal_loading_wrapper").html(e.success.message),$("#kt_modal_loading").modal("show"),KTApp.initTooltips())}})}))}))}});