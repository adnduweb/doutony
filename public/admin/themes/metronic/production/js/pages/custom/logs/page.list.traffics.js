!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=486)}({486:function(e,t,a){e.exports=a(487)},487:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r,o={init:function(){var e;r=$("#kt_apps_logsTraffic_list_datatable").KTDatatable({data:{type:"remote",source:{read:{url:current_url+"/list",method:"GET",params:(e={},n(e,crsftoken,$('meta[name="X-CSRF-TOKEN"]').attr("content")),n(e,"model","\\Adnduweb\\Ci4Core\\Models\\LogModel"),n(e,"handle","traffic"),e)}},pageSize:10,serverPaging:!0,serverFiltering:!0,serverSorting:!0},translate:{records:{processing:_LANG_.loading_wait,noRecords:_LANG_.no_record_found},toolbar:{pagination:{items:{default:{first:_LANG_.first,prev:_LANG_.previous,next:_LANG_.next,last:_LANG_.last,more:_LANG_.more_pages,input:_LANG_.page_number,select:_LANG_.select_page_size,all:_LANG_.all},info:_LANG_.showing+" {{start}} - {{end}} of {{total}}"}}}},layout:{scroll:!1,footer:!1},sortable:!0,pagination:!0,search:{input:$("#kt_subheader_search_form"),delay:400},rows:{beforeTemplate:function(e,t,a){"0"==t.active&&e.addClass("notactive")}},columns:[{field:"id",title:"#",sortable:!1,width:20,selector:{class:"kt-checkbox--solid"},textAlign:"center"},{field:"ip_addressLong",title:_LANG_.ip_address,width:200,template:function(e){return'<div class="text-dark-75 font-weight-bolder font-size-lg mb-0">'+e.ip_address+"</div>"}},{field:"user_agent_traite",title:_LANG_.user_agent,type:"user_agent_traite",sortable:!1},{field:"username",title:_LANG_.user_id,type:"user_id",sortable:!1},{field:"path",title:_LANG_.path,type:"path",template:function(e){var t=""!=e.query?e.query:"nc",a=""!=e.fragment?e.fragment:"nc";return'<div class="kt-user-card-v2">   <div class="kt-user-card-v2__details"><span class="kt-user-card-v2__name">'+e.path+'</span><span class="kt-user-card-v2__email">'+t+" | "+a+"</span></div></div>"}},{field:"views",title:_LANG_.views,type:"views"},{field:"updated_at",title:_LANG_.date_create,type:"date",format:"MM/DD/YYYY H:i:s",template:function(e){return'<div class="font-weight-bolder text-primary mb-0">'+e.date_create_format_full+"</div>"}}]}),$("#kt_form_status").on("change",(function(){r.search($(this).val().toLowerCase(),"Status")})),r.on("datatable-on-check datatable-on-uncheck datatable-on-layout-updated",(function(e){var t=r.rows(".datatable-row-active").nodes().length;$("#kt_subheader_group_selected_rows").html(t),t>0?($("#kt_subheader_search").addClass("hidden"),$("#kt_subheader_group_actions").removeClass("hidden")):($("#kt_subheader_search").removeClass("hidden"),$("#kt_subheader_group_actions").addClass("hidden"))})),$("#kt_datatable_records_fetch_modal").on("show.bs.modal",(function(e){var t=new KTDialog({type:"loader",placement:"top center",message:_LANG_.loading+"..."});t.show(),setTimeout((function(){t.hide()}),1e3);for(var a=r.rows(".datatable-row-active").nodes().find('.checkbox-single > [type="checkbox"]').map((function(e,t){return $(t).val()})),n=document.createDocumentFragment(),o=0;o<a.length;o++){var s=document.createElement("li");s.setAttribute("data-id",a[o]),s.innerHTML=_LANG_.selected_row_id+": "+a[o],n.appendChild(s)}$(e.target).find("#kt_apps_user_fetch_records_selected").append(n)})).on("hide.bs.modal",(function(e){$(e.target).find("#kt_apps_user_fetch_records_selected").empty()})),$("#kt_subheader_group_actions_status_change").on("click","[data-toggle='status-change']",(function(e){e.preventDefault();var t=$(this).find(".kt-nav__link-text").html(),a=$(this).find(".kt-nav__link-text").data("status"),n=r.rows(".datatable-row-active").nodes().find('.checkbox-single > [type="checkbox"]').map((function(e,t){return $(t).val()}));n.length>0&&swal.fire({buttonsStyling:!1,html:_LANG_.are_you_sure_update+" "+n.length+" "+_LANG_.selected_records_status_to+" "+t+" ?",type:"primary",confirmButtonText:_LANG_.yes_update+"!",confirmButtonClass:"btn btn-sm btn-bold btn-dark",showCancelButton:!0,cancelButtonText:_LANG_.no_cancel,cancelButtonClass:"btn btn-sm btn-bold btn-default"}).then((function(e){e.value?$.ajax({type:"POST",url:basePath+segementAdmin+"/sp-admin-ajax",data:{ajax:!0,controller:"AdminLogController",action:"updateTraffic",value:{selected:n.get(),active:a},module:!1},dataType:"json",success:function(e,t,a){200==a.status&&($.notify({title:_LANG_.updated+"!",message:e.message},{type:"success"}),$("#kt_apps_logsTraffic_list_datatable").KTDatatable().reload())}}):$.notify({title:_LANG_.cancelled,message:_LANG_.your_seleted_records_statuses_have_not_been_updated},{type:"info",placement:{from:"bottom",align:"center"}})}))})),$("#kt_subheader_group_actions_delete_all").on("click",(function(){var e=r.rows(".datatable-row-active").nodes().find('.checkbox-single > [type="checkbox"]').map((function(e,t){return $(t).val()}));e.length>0&&swal.fire({buttonsStyling:!1,text:_LANG_.are_you_sure_delete+" "+e.length+" "+_LANG_.selected_records+" ?",type:"error",confirmButtonText:_LANG_.yes_delete+" !",confirmButtonClass:"btn btn-sm btn-bold btn-danger",showCancelButton:!0,cancelButtonText:_LANG_.no_cancel,cancelButtonClass:"btn btn-sm btn-bold btn-dark"}).then((function(t){if(t.value){var a=e.get();$.ajax({type:"POST",url:basePath+segementAdmin+"/sp-admin-ajax",data:{ajax:!0,controller:"AdminLogController",action:"deleteTraffic",value:{selected:a},module:!1},dataType:"json",success:function(e,t,n){if(200==n.status){var r=$(".kt_subheader_total").text();$(".kt_subheader_total").html(r-a.length),$.notify({title:_LANG_.deleted+"!",message:e.message},{type:e.type}),$("#kt_apps_logsTraffic_list_datatable").KTDatatable().reload()}}})}else $.notify({title:_LANG_.deleted,message:_LANG_.your_selected_records_have_not_been_deleted},{type:"primary"})}))})),r.on("datatable-on-layout-updated",(function(){}))}};KTUtil.ready((function(){o.init()}))}});
//# sourceMappingURL=page.list.traffics.js.map