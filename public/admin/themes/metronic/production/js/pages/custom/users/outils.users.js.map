{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resources/metronic/js/pages/custom/users/outils.users.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","KTform","init","$","length","form","KTUtil","getById","attr","passwordMeter","document","getElementById","randomNumber","min","max","Math","floor","random","FormValidation","formValidation","fields","company_id","validators","notEmpty","message","_LANG_","champs_is_required","username","firstname","lastname","email","email_is_required","emailAddress","the_value_is_not_address_valid","password","different","password_cannot_be_the_same_as_username","compare","querySelector","pass_confirm","identical","password_not_ecal_pass_confirm","plugins","trigger","Trigger","bootstrap","Bootstrap","submitButton","SubmitButton","passwordStrength","PasswordStrength","field","the_password_is_weak","minimalScore","onValidated","valid","score","style","width","backgroundColor","on","submit","response","error","before","_handleFormUser","createUsername","val","substring","toLowerCase","jQuery","ready","e","post","baseController","crsftoken","status","html","success","click","this","prev","prop","session_en_cours","data","id","csrf_hash","csrf_token","css","notify","title","deleted","type","placement","from","align"],"mappings":"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","file":"/production/js/pages/custom/users/outils.users.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 504);\n","// Class Definition\r\nvar KTform = function() {\r\n    var _buttonSpinnerClasses = 'spinner spinner-right spinner-white pr-15';\r\n\r\n\r\n    var _handleFormUser = function() {\r\n        if ($('#kt_apps_user_edit_user_form').length) {\r\n            var form = KTUtil.getById('kt_apps_user_edit_user_form');\r\n        } else {\r\n            var form = KTUtil.getById('kt_apps_user_create_user_form');\r\n        }\r\n\r\n        var formSubmitUrl = KTUtil.attr(form, 'action');\r\n        var formSubmitButton = $('.kt_form_submit_utilisateurs');\r\n\r\n        if (!form) {\r\n            return;\r\n        }\r\n\r\n        const passwordMeter = document.getElementById('passwordMeter');\r\n\r\n        const randomNumber = function(min, max) {\r\n            return Math.floor(Math.random() * (max - min + 1) + min);\r\n        };\r\n\r\n        FormValidation\r\n            .formValidation(\r\n                form, {\r\n                    fields: {\r\n                        company_id: {\r\n                            validators: {\r\n                                notEmpty: {\r\n                                    message: _LANG_.champs_is_required\r\n                                }\r\n                            }\r\n                        },\r\n                        username: {\r\n                            validators: {\r\n                                notEmpty: {\r\n                                    message: _LANG_.champs_is_required\r\n                                }\r\n                            }\r\n                        },\r\n                        firstname: {\r\n                            validators: {\r\n                                notEmpty: {\r\n                                    message: _LANG_.champs_is_required\r\n                                }\r\n                            }\r\n                        },\r\n                        lastname: {\r\n                            validators: {\r\n                                notEmpty: {\r\n                                    message: _LANG_.champs_is_required\r\n                                }\r\n                            }\r\n                        },\r\n                        email: {\r\n                            validators: {\r\n                                notEmpty: {\r\n                                    message: _LANG_.email_is_required\r\n                                },\r\n                                emailAddress: {\r\n                                    message: _LANG_.the_value_is_not_address_valid\r\n                                }\r\n                            }\r\n                        },\r\n                        password: {\r\n                            validators: {\r\n                                different: {\r\n                                    message: _LANG_.password_cannot_be_the_same_as_username,\r\n                                    compare: () => {\r\n                                        return form.querySelector('[name=\"username\"]').value;\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        pass_confirm: {\r\n                            validators: {\r\n                                identical: {\r\n                                    compare: function() {\r\n                                        return form.querySelector('[name=\"password\"]').value;\r\n                                    },\r\n                                    message: _LANG_.password_not_ecal_pass_confirm,\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    plugins: {\r\n                        trigger: new FormValidation.plugins.Trigger(),\r\n                        bootstrap: new FormValidation.plugins.Bootstrap(),\r\n                        submitButton: new FormValidation.plugins.SubmitButton(),\r\n                        passwordStrength: new FormValidation.plugins.PasswordStrength({\r\n                            field: 'password',\r\n                            message: _LANG_.the_password_is_weak,\r\n                            minimalScore: 3,\r\n                            onValidated: function(valid, message, score) {\r\n                                switch (score) {\r\n                                    case 0:\r\n                                        passwordMeter.style.width = randomNumber(1, 20) + '%';\r\n                                        passwordMeter.style.backgroundColor = '#ff4136';\r\n                                        break;\r\n                                    case 1:\r\n                                        passwordMeter.style.width = randomNumber(20, 40) + '%';\r\n                                        passwordMeter.style.backgroundColor = '#ff4136';\r\n                                        break;\r\n                                    case 2:\r\n                                        passwordMeter.style.width = randomNumber(40, 60) + '%';\r\n                                        passwordMeter.style.backgroundColor = '#ff4136';\r\n                                        break;\r\n                                    case 3:\r\n                                        passwordMeter.style.width = randomNumber(60, 80) + '%';\r\n                                        passwordMeter.style.backgroundColor = '#ffb700';\r\n                                        break;\r\n                                    case 4:\r\n                                        passwordMeter.style.width = '100%';\r\n                                        passwordMeter.style.backgroundColor = '#19a974';\r\n                                        break;\r\n                                    default:\r\n                                        break;\r\n                                }\r\n                            },\r\n                        }),\r\n                    }\r\n                }\r\n            )\r\n            .on('core.form.valid', function() {\r\n                $(form).submit();\r\n            })\r\n            .on('core.form.invalid', function(response) {\r\n\r\n                if (response.error == true) {\r\n                    $(form).before(response.message);\r\n                }\r\n            });\r\n    }\r\n\r\n    // Public Functions\r\n    return {\r\n        init: function() {\r\n            _handleFormUser();\r\n            //_handleFormSignup();\r\n        }\r\n    };\r\n}();\r\n\r\n// Class Initialization\r\njQuery(document).ready(function() {\r\n    KTform.init();\r\n});\r\n\r\n$(document).on(\"click\", '.generer_mot_passe', function(e) {\r\n    $.post(baseController + \"/getPassword\", {\r\n            [crsftoken]: $('meta[name=\"X-CSRF-TOKEN\"]').attr('content'),\r\n        },\r\n        function(response, status) {\r\n            //csrf_hash = response.csrf_token;\r\n\r\n            if (response.error == false) {\r\n                $('.pass_confirm').val('');\r\n                $('.datapassword').val('');\r\n                $('#password').html('');\r\n                $('.datapassword').val(response.success.password);\r\n                $('.pass_confirm').val(response.success.password);\r\n                $('#password').html(response.success.password);\r\n            }\r\n        });\r\n});\r\n\r\nfunction createUsername() {\r\n    var fname = $('#kt_apps_user_create_user_form input[name=firstname]').val().substring(0, 1).toLowerCase();\r\n\r\n    var lname = $('#kt_apps_user_create_user_form input[name=lastname]').val().toLowerCase();\r\n    var username = fname + lname + Math.floor(Math.random() * (10000 + 1) + 1000);\r\n    $('#kt_apps_user_create_user_form input[name=username]').val(username);\r\n}\r\n\r\n$('#kt_apps_user_create_user_form input[name=firstname]').on('keyup', createUsername);\r\n$('#kt_apps_user_create_user_form input[name=lastname]').on('keyup', createUsername);\r\n\r\n\r\n$('.show-password').click(function() {\r\n    if ($(this).prev('input').prop('type') == 'password') {\r\n        //Si c'est un input type password\r\n        $(this).prev('input').prop('type', 'text');\r\n        $(this).html('<i class=\"far fa-eye-slash\"></i>');\r\n    } else {\r\n        //Sinon\r\n        $(this).prev('input').prop('type', 'password');\r\n        $(this).html('<i class=\"far fa-eye\"></i>');\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\n$(document).on(\"click\", '.deleteSession', function(e) {\r\n    var session_en_cours = $(this).data('session_en_cours');\r\n    var id = $(this).attr('id')\r\n    $.post(baseController + \"/deleteSession\", {\r\n            [crsftoken]: $('meta[name=\"X-CSRF-TOKEN\"]').attr('content'),\r\n            value: session_en_cours,\r\n        },\r\n        function(response, status) {\r\n            csrf_hash = response.csrf_token;\r\n            $(\"#\" + id).css('display', 'none');\r\n            // console.log(id);\r\n            if (status == 'success') {\r\n                $.notify({\r\n                    title: _LANG_.deleted + \"!\",\r\n                    message: response.message\r\n                }, {\r\n                    type: response.type,\r\n                    placement: {\r\n                        from: 'bottom',\r\n                        align: 'center'\r\n                    },\r\n                });\r\n            }\r\n        });\r\n});"],"sourceRoot":""}